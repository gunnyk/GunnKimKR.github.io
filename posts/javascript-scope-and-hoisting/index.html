<!DOCTYPE html><html lang="ko-KR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="JavaScript - 스코프와 호이스팅(Scopoe and Hoisting)" /><meta name="author" content="Gunn Kim" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="스코프" /><meta property="og:description" content="스코프" /><link rel="canonical" href="https://gunnkimkr.github.io/posts/javascript-scope-and-hoisting/" /><meta property="og:url" content="https://gunnkimkr.github.io/posts/javascript-scope-and-hoisting/" /><meta property="og:site_name" content="Gunn’s Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-10-23T05:51:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="JavaScript - 스코프와 호이스팅(Scopoe and Hoisting)" /><meta name="google-site-verification" content="yaaNU8tK01DFWa4QQ0P6UQwKJBGuU-rSDS9xt89dZ64" /> <script type="application/ld+json"> {"@type":"BlogPosting","headline":"JavaScript - 스코프와 호이스팅(Scopoe and Hoisting)","dateModified":"2021-10-23T05:51:00+09:00","datePublished":"2021-10-23T05:51:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://gunnkimkr.github.io/posts/javascript-scope-and-hoisting/"},"author":{"@type":"Person","name":"Gunn Kim"},"description":"스코프","url":"https://gunnkimkr.github.io/posts/javascript-scope-and-hoisting/","@context":"https://schema.org"}</script><title>JavaScript - 스코프와 호이스팅(Scopoe and Hoisting) | Gunn’s Blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Gunn’s Blog"><meta name="application-name" content="Gunn’s Blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-0HZ3ZVN0Q7"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-0HZ3ZVN0Q7'); }); </script> <script data-ad-client="ca-pub-6581213997312482" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="ko-KR"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Gunn’s Blog</a></div><div class="site-subtitle font-italic">Recording ideas about&nbsp;tech&nbsp;and&nbsp;life</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/GunnKimKR" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://www.instagram.com/__okidoki" aria-label="instagram" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-instagram"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['gunnn.kim','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>JavaScript - 스코프와 호이스팅(Scopoe and Hoisting)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="검색..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >취소</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>JavaScript - 스코프와 호이스팅(Scopoe and Hoisting)</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Gunn Kim </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, Oct 23, 2021, 5:51 AM +0900" >Oct 23<i class="unloaded">2021-10-23T05:51:00+09:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1947 words">10 min read</span></div></div><div class="post-content"><h2 id="스코프"><strong>스코프</strong></h2><p>스코프는 식별자, 즉 변수에 접근할 수 있는 유효 범위를 말한다.</p><p>ES6 이전까지 JavaScript엔 전역 스코프와 함수 스코프만 존재 했다. 블록 스코프 개념은 ES6부터 등장한다.</p><p>변수의 선언 위치는 코드에서 변수의 접근 가능 여부에 영향을 미친다.</p><h3 id="es6-이전까지의-스코프"><strong>ES6 이전까지의 스코프</strong></h3><div class="language-javascript highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="kd">var</span> <span class="nx">globalVar</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">Global</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">fnA</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">localVarA</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">LocalA</span><span class="dl">'</span><span class="p">;</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">globalVar</span><span class="p">,</span> <span class="nx">localVarA</span><span class="p">);</span> <span class="c1">// Global, LocalA</span>

  <span class="kd">function</span> <span class="nx">fnB</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">localVarB</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">LocalB</span><span class="dl">'</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">localVarA</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">Redeclaration of LocalVarA</span><span class="dl">'</span><span class="p">;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">globalVar</span><span class="p">,</span> <span class="nx">localVarA</span><span class="p">,</span> <span class="nx">localVarB</span><span class="p">);</span> <span class="c1">// Global, Redeclaration of LocalVarA, LocalB</span>
  <span class="p">}</span>

  <span class="nx">fnB</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">globalVar</span><span class="p">,</span> <span class="nx">localVarA</span><span class="p">);</span> <span class="c1">// Global, LocalA</span>
<span class="p">}</span>
<span class="nx">fnA</span><span class="p">();</span>
</pre></table></code></div></div><p>변수 <code class="language-plaintext highlighter-rouge">globalVar</code>는 전역 스코프에 포함되며 웹 앱이 종료될 때까지 유지된다.</p><blockquote><p>웹 브라우저 환경에선 <code class="language-plaintext highlighter-rouge">window</code> 객체를 사용해 전역 스코프를 생성하므로 전역에 선언한 모든 변수와 함수는 <code class="language-plaintext highlighter-rouge">window</code> 객체의 프로퍼티와 메서드가 된다. <code class="language-plaintext highlighter-rouge">window.globalVar</code>, <code class="language-plaintext highlighter-rouge">window.fnA()</code>로 확인해 볼 수 있다.</p></blockquote><p>함수 <code class="language-plaintext highlighter-rouge">fnA</code> 내에 선언한 변수 <code class="language-plaintext highlighter-rouge">localVarA</code>와 함수 <code class="language-plaintext highlighter-rouge">fnB</code>는 <code class="language-plaintext highlighter-rouge">fnA</code> 함수 스코프에 포함되며 <code class="language-plaintext highlighter-rouge">fnA</code> 함수의 실행이 마치면 제거된다.</p><p>함수 <code class="language-plaintext highlighter-rouge">fnA</code> 내에서는 전역 스코프에 정의된 변수나 함수에도 접근이 가능한데 이는 자바스크립트가 생성한 스코프 체인을 따라 상위 스코프로 접근하기 때문이다.</p><blockquote><p>자바스크립트에선 스코프를 실행 컨텍스트로 설명할 수 있다. 실행 컨텍스트는 자바스크립트 코드의 실행을 위해 필요한 정보를 담고 있으며, 그 정보에는 변수 객체, 스코프 체인, this 값이 있다. <a href="https://gunnkimkr.github.io/posts/javascript-execution-context/">실행 컨텍스트</a>를 함께 학습하면 본문을 이해하는데 도움이 된다.</p></blockquote><p>함수 <code class="language-plaintext highlighter-rouge">fnB</code> 내에서는 변수 <code class="language-plaintext highlighter-rouge">localVarB</code>와 <code class="language-plaintext highlighter-rouge">localVarA</code>를 선언하고 초기 값을 할당했다.</p><p><code class="language-plaintext highlighter-rouge">var</code>를 사용해 선언한 변수는 가장 가까운 스코프에 포함되는데 <code class="language-plaintext highlighter-rouge">fnA</code> 함수 내에 <code class="language-plaintext highlighter-rouge">localVarA</code>가 선언되어 있더라도 <code class="language-plaintext highlighter-rouge">fnB</code> 함수 내에서 같은 이름의 식별자로 재선언이 이루어 졌기 때문에 <code class="language-plaintext highlighter-rouge">fnB</code> 함수 내에서 <code class="language-plaintext highlighter-rouge">localVarA</code> 변수에 접근하면 <code class="language-plaintext highlighter-rouge">Redeclaration of LocalVarA</code> 값을 출력한다.</p><p>함수 <code class="language-plaintext highlighter-rouge">fnB</code>도 <code class="language-plaintext highlighter-rouge">fnA</code>와 마찬가지로 스코프 체인을 따라 상위 스코프로 접근이 가능하다.</p><p>만약 함수 <code class="language-plaintext highlighter-rouge">fnB</code> 내에서 변수 <code class="language-plaintext highlighter-rouge">localVarA</code>의 재선언이 이루어지지 않았다면 스코프 체인을 따라 상위 스코프에서 해당 변수를 찾게되고 <code class="language-plaintext highlighter-rouge">fnA</code> 함수 스코프에 존재하는 변수 <code class="language-plaintext highlighter-rouge">localVarA</code>를 찾아 <code class="language-plaintext highlighter-rouge">LocalA</code> 값을 출력했을 것이다.</p><p><code class="language-plaintext highlighter-rouge">fnA</code> 함수에서도 변수 <code class="language-plaintext highlighter-rouge">localVarA</code>를 조회할 수 없다면 전역 스코프까지 조회하게 되고 해당 변수를 찾을 수 없다면 에러가 발생한다.</p><p>현재 스코프에선 상위 스코프에 접근이 가능하지만 상위 스코프에선 하위 스코프에 접근이 불가능하다.</p><p>예를 들어 <code class="language-plaintext highlighter-rouge">fnA</code> 함수 스코프에선 <code class="language-plaintext highlighter-rouge">fnB</code> 함수 스코프에 접근할 수 없기 때문에 <code class="language-plaintext highlighter-rouge">fnA</code> 함수 스코프에서 변수 <code class="language-plaintext highlighter-rouge">localVarB</code>의 값을 출력하려고 하면 에러가 발생한다.</p><p>위 코드의 스코프를 다이어그램으로 나타내면 다음과 같다.</p><p><img data-proofer-ignore data-src="/blog.images/211023/scope.png" alt="Global Scope and Function Scope" class="shadow" /> <em>전역 스코프와 함수 스코프</em></p><h3 id="es6-이후-스코프--호이스팅"><strong>ES6 이후 스코프 : 호이스팅</strong></h3><h4 id="자바스크립트의-블록-스코프"><strong>자바스크립트의 블록 스코프</strong></h4><p>C나 C++, JAVA와 같은 언어에선 중괄호로 감싼 코드 블록마다 스코프가 생성되므로 조건에 따라 변수를 선언해서 사용할 수 있다.</p><p>예를 들어 <code class="language-plaintext highlighter-rouge">if</code>, <code class="language-plaintext highlighter-rouge">for</code>, <code class="language-plaintext highlighter-rouge">while</code>문과 같은 조건식은 중괄호로 코드 블록을 만들어 특정 조건에 따라 명령을 실행한다.</p><p>블록 스코프 내에 선언한 변수는 해당 스코프 내에서만 존재하며 상위 스코프에서 접근할 수 없다.</p><p>하지만 ES6 이전까지의 자바스크립트에선 블록 스코프의 개념이 없었기 때문에 개발자들에게 혼란이 되었다.</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span> <span class="c1">// 5</span>
</pre></table></code></div></div><p>변수 <code class="language-plaintext highlighter-rouge">i</code>가 5보다 작으면 <code class="language-plaintext highlighter-rouge">for</code>문 내에 명령문을 반복해서 실행한다.</p><p>변수 <code class="language-plaintext highlighter-rouge">i</code>가 5가 되면 조건이 성립하지 않으므로 조건문을 마친다.</p><p><code class="language-plaintext highlighter-rouge">for</code>문의 중괄호 코드 블록이 블록 스코프를 생성했다면 변수 <code class="language-plaintext highlighter-rouge">i</code>는 <code class="language-plaintext highlighter-rouge">for</code>문 실행이 마치고 제거되어야 하지만 <code class="language-plaintext highlighter-rouge">for</code>문의 상위 스코프에서 해당 변수에 접근해 값을 출력했다.</p><h4 id="호이스팅"><strong>호이스팅</strong></h4><p>호이스팅이란 자바스크립트 엔진이 변수나 함수 선언과 같은 식별자를 만나면 현재 스코프에서 해당 선언을 최상단으로 끌어 올리는 것과 같이 동작하는 것을 말한다.</p><p>자바스크립트로 작성된 프로그램이 동작할 때는 두 단계를 거쳐 실행한다. 컴파일을 위해 모든 코드를 읽는 구문 분석 단계와 구문 분석된 코드를 실행하는 실행 단계이다.</p><p>구문 분석 단계에서 호이스팅이 발생하며 변수 선언에 대한 메모리 할당, 스코프 생성과 같은 일도 이 단계에서 이루어진다.</p><p>호이스팅 전과 후를 코드로 표현하면 다음과 같다.</p><p><strong>- 호이스팅 전</strong></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="kd">function</span> <span class="nx">fnA</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">localA</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">A</span><span class="dl">'</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">localB</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">B</span><span class="dl">'</span><span class="p">;</span>

  <span class="k">if</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">localC</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">C</span><span class="dl">'</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nx">fnB</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">localA</span><span class="p">,</span> <span class="nx">localB</span><span class="p">,</span> <span class="nx">localC</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">fnB</span><span class="p">();</span>
<span class="p">}</span>
</pre></table></code></div></div><p><strong>- 호이스팅 후</strong></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="kd">function</span> <span class="nx">fnA</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">localA</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">localB</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">localC</span><span class="p">;</span>
  <span class="kd">function</span> <span class="nx">fnB</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">localA</span><span class="p">,</span> <span class="nx">localB</span><span class="p">,</span> <span class="nx">localC</span><span class="p">);</span> <span class="c1">// A, B, C</span>
  <span class="p">}</span>

  <span class="nx">localA</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">A</span><span class="dl">'</span><span class="p">;</span>
  <span class="nx">localB</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">B</span><span class="dl">'</span><span class="p">;</span>

  <span class="k">if</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">localC</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">C</span><span class="dl">'</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">fnB</span><span class="p">();</span>
<span class="p">}</span>
</pre></table></code></div></div><blockquote><p>호이스팅에 관한 이해를 돕기 위한 코드 일뿐 코드가 이동하는 것은 아니다.</p></blockquote><p>호이스팅 후 코드를 보면 <code class="language-plaintext highlighter-rouge">fnA</code> 함수 스코프 내에서 선언한 모든 변수와 함수가 현재 스코프의 최상단으로 끌어 올려진 것을 알 수 있다.</p><p>변수 초기화와 <code class="language-plaintext highlighter-rouge">fnB</code> 함수 실행은 변수와 함수 선언보다 아래쪽에 위치하며 실행 단계에서 동작한다.</p><h3 id="es6-이후-스코프--블록-스코프"><strong>ES6 이후 스코프 : 블록 스코프</strong></h3><p>위에 “호이스팅 후” 코드에서 <code class="language-plaintext highlighter-rouge">if</code>문 내에 선언한 변수 <code class="language-plaintext highlighter-rouge">localC</code>가 <code class="language-plaintext highlighter-rouge">fnA</code> 함수 스코프에 포함된 것을 알 수 있다.</p><p>이는 자바스크립트가 블록 스코프를 생성하지 않기 때문이다.</p><p>하지만 ES6에서 변수를 선언하는 키워드인 <code class="language-plaintext highlighter-rouge">let</code>과 <code class="language-plaintext highlighter-rouge">const</code>가 추가됨에 따라 블록 스코프를 생성할 수 있게 되었다.</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="kd">function</span> <span class="nx">fnA</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">localA</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">A</span><span class="dl">'</span><span class="p">;</span>

  <span class="k">if</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">localB</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">B</span><span class="dl">'</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">localA</span><span class="p">,</span> <span class="nx">localB</span><span class="p">)</span> <span class="c1">// ReferenceError!</span>
<span class="p">}</span>
</pre></table></code></div></div><p>위 코드는 “호이스팅 후” 코드와 달리 <code class="language-plaintext highlighter-rouge">fnA</code> 함수 스코프 내에서 선언한 변수 <code class="language-plaintext highlighter-rouge">localB</code>의 값을 출력하려할 때 <code class="language-plaintext highlighter-rouge">ReferenceError</code> 에러가 발생한다.</p><p>변수 <code class="language-plaintext highlighter-rouge">localB</code>는 <code class="language-plaintext highlighter-rouge">let</code> 키워드를 사용했기 때문에 블록 스코프에 포함되며 상위 스코프인 <code class="language-plaintext highlighter-rouge">fnA</code> 함수 스코프에서 접근할 수 없다.</p><h2 id="각주"><strong>각주</strong></h2><ul><li>Nicholas C. Zakas(2012), “JavaScript for Web Developers”<li>JavaScript Is Sexy, <a href="http://javascriptissexy.com/understanding-es2015-in-depth-part-1-block-scope-with-let-and-const/">Understanding ES2015 In Depth, Part 1: Block Scope with let and const</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/programming/'>Programming</a>, <a href='/categories/javascript/'>JavaScript</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/javascript/" class="post-tag no-text-decoration" >javascript</a> <a href="/tags/scope/" class="post-tag no-text-decoration" >scope</a> <a href="/tags/global-scope/" class="post-tag no-text-decoration" >global scope</a> <a href="/tags/function-scope/" class="post-tag no-text-decoration" >function scope</a> <a href="/tags/block-scope/" class="post-tag no-text-decoration" >block scope</a> <a href="/tags/scope-chain/" class="post-tag no-text-decoration" >scope chain</a> <a href="/tags/hoisting/" class="post-tag no-text-decoration" >hoisting</a> <a href="/tags/%EC%8A%A4%EC%BD%94%ED%94%84/" class="post-tag no-text-decoration" >스코프</a> <a href="/tags/%EC%A0%84%EC%97%AD-%EC%8A%A4%EC%BD%94%ED%94%84/" class="post-tag no-text-decoration" >전역 스코프</a> <a href="/tags/%ED%95%A8%EC%88%98-%EC%8A%A4%EC%BD%94%ED%94%84/" class="post-tag no-text-decoration" >함수 스코프</a> <a href="/tags/%EB%B8%94%EB%A1%9D-%EC%8A%A4%EC%BD%94%ED%94%84/" class="post-tag no-text-decoration" >블록 스코프</a> <a href="/tags/%EC%8A%A4%EC%BD%94%ED%94%84-%EC%B2%B4%EC%9D%B8/" class="post-tag no-text-decoration" >스코프 체인</a> <a href="/tags/%ED%98%B8%EC%9D%B4%EC%8A%A4%ED%8C%85/" class="post-tag no-text-decoration" >호이스팅</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 이 게시물은 작성자에 의해 <a href="https://creativecommons.org/licenses/by/2.0/kr/"> CC BY 2.0 KR </a> 에 따라 사용이 허가되었습니다.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">공유</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=JavaScript - 스코프와 호이스팅(Scopoe and Hoisting) - Gunn’s Blog&url=https://gunnkimkr.github.io/posts/javascript-scope-and-hoisting/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=JavaScript - 스코프와 호이스팅(Scopoe and Hoisting) - Gunn’s Blog&u=https://gunnkimkr.github.io/posts/javascript-scope-and-hoisting/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=JavaScript - 스코프와 호이스팅(Scopoe and Hoisting) - Gunn’s Blog&url=https://gunnkimkr.github.io/posts/javascript-scope-and-hoisting/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="URL 복사" title-succeed="URL이 복사되었습니다!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>최근 업데이트</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/javascript-object-and-property-descriptors/">JavaScript - 객체 & 프로퍼티 디스크립터(Object & Property Descriptors)</a><li><a href="/posts/javascript-reference-types-and-function-type/">JavaScript - 참조 타입 & 함수 타입(Reference Types & Function Type)</a><li><a href="/posts/javascript-data-immutability/">JavaScript - 데이터 불변성(Data Immutability)</a><li><a href="/posts/javascript-garbage-collection/">JavaScript - 가비지 컬렉션(Garbage Collection)</a><li><a href="/posts/javascript-dom/">JavaScript - DOM(The Document Object Model)</a></ul></div><div id="access-tags"> <span>인기 태그</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8/">자바스크립트</a> <a class="post-tag" href="/tags/%EC%9B%90%EC%8B%9C-%EA%B0%92/">원시 값</a> <a class="post-tag" href="/tags/data-types/">data types</a> <a class="post-tag" href="/tags/primitive-values/">primitive values</a> <a class="post-tag" href="/tags/reference-values/">reference values</a> <a class="post-tag" href="/tags/scope-chain/">scope chain</a> <a class="post-tag" href="/tags/scope/">scope</a> <a class="post-tag" href="/tags/%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%83%80%EC%9E%85/">데이터 타입</a> <a class="post-tag" href="/tags/%EC%8A%A4%EC%BD%94%ED%94%84-%EC%B2%B4%EC%9D%B8/">스코프 체인</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">목차</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>다른 게시글</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/javascript-execution-context/"><div class="card-body"> <span class="timeago small" >Jul 17<i class="unloaded">2021-07-17T05:30:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>JavaScript - 실행 컨텍스트(Execution Context)</h3><div class="text-muted small"><p> 실행 컨텍스트 실행 컨텍스트는 코드의 런타임 평가를 추적하는 데 사용한다. 즉, 실행 컨텍스트는 자바스크립트 코드가 실행되는 환경을 말하며 코드 실행을 위해 필요한 정보를 담고 있다. 실행 컨텍스트는 추상화된 개념이므로 코드로 직접 접근은 불가능하다. 실행 컨텍스트에는 변수 객체, 스코프 체인, this 값이 있다. 실행 컨텍스트의 종류로는 전...</p></div></div></a></div><div class="card"> <a href="/posts/javascript-primitive-and-reference-values-and-dynamic-properties/"><div class="card-body"> <span class="timeago small" >Jul 7<i class="unloaded">2021-07-07T05:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>JavaScript - 원시 값과 참조 값 & 동적 프로퍼티(Primitive and Reference Values & Dynamic Properties)</h3><div class="text-muted small"><p> 원시 값과 참조 값 자바스크립트의 변수에는 원시 값과 참조 값 두 가지 타입의 값을 저장할 수 있다. 원시 값 string, number, bigint, boolean, undefined, symbol, null 참조 값 object 변수에 값이 할당되면 자바스크립트 엔진은 할당된 값이 원시 값인지 참조 값인지 판단하게 되는데 ...</p></div></div></a></div><div class="card"> <a href="/posts/javascript-primitive-and-reference-values-and-copying-values/"><div class="card-body"> <span class="timeago small" >Jul 8<i class="unloaded">2021-07-08T17:50:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>JavaScript - 원시 값과 참조 값 & 값 복사(Primitive and Reference Values & Copying Values)</h3><div class="text-muted small"><p> 값 복사 값에 의한 값 복사 let num1 = 5; let num2 = num1; num1 = 10; console.log(num2); // 5 num1에는 5가 저장되어 있다. num1을 num2에 대입하면 num1에 저장된 값 5를 새로 생성한 뒤에 값 복사가 이루어진다. num1과 num2는 각각 독립적인 존재이기 때문에 어느 한쪽에...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/javascript-data-immutability/" class="btn btn-outline-primary" prompt="이전"><p>JavaScript - 데이터 불변성(Data Immutability)</p></a> <a href="/posts/javascript-part1-prototype-based-programming/" class="btn btn-outline-primary" prompt="다음"><p>JavaScript - Part 1. 프로토타입 기반 프로그래밍(Prototype Based Programming)</p></a></div><script src="https://utteranc.es/client.js" repo="GunnKimKR/blog.comments" issue-term="og:title" label="💬Comment" theme="preferred-color-scheme" crossorigin="anonymous" async> </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://github.com/GunnKimKR">Gunn Kim</a>. <span data-toggle="tooltip" data-placement="top" title="이 저작물은 크리에이티브 커먼즈 저작자표시 2.0 대한민국 라이선스에 따라 이용할 수 있습니다.">Some rights reserved.</span></p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">인기 태그</h4><a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8/">자바스크립트</a> <a class="post-tag" href="/tags/%EC%9B%90%EC%8B%9C-%EA%B0%92/">원시 값</a> <a class="post-tag" href="/tags/data-types/">data types</a> <a class="post-tag" href="/tags/primitive-values/">primitive values</a> <a class="post-tag" href="/tags/reference-values/">reference values</a> <a class="post-tag" href="/tags/scope-chain/">scope chain</a> <a class="post-tag" href="/tags/scope/">scope</a> <a class="post-tag" href="/tags/%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%83%80%EC%9E%85/">데이터 타입</a> <a class="post-tag" href="/tags/%EC%8A%A4%EC%BD%94%ED%94%84-%EC%B2%B4%EC%9D%B8/">스코프 체인</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://GunnKimKR.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">검색 결과가 없습니다.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script>
